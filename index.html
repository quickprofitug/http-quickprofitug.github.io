<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickProfit UG - Secure Investment Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2e7d32;
            --primary-dark: #1b5e20;
            --secondary: #ffc107;
            --light: #f5f5f5;
            --dark: #333;
            --success: #4caf50;
            --danger: #f44336;
            --gray: #777;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        header {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .logo-icon {
            font-size: 2rem;
            color: var(--secondary);
        }
        
        .logo span {
            color: var(--secondary);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 1.5rem;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 5px 10px;
            border-radius: 4px;
        }
        
        nav ul li a:hover, nav ul li a.active {
            color: var(--secondary);
            background: rgba(255,255,255,0.1);
        }
        
        .auth-buttons {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 8px 20px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
        }
        
        .btn-primary {
            background-color: var(--secondary);
            color: var(--dark);
        }
        
        .btn-outline {
            background-color: transparent;
            color: white;
            border: 1px solid white;
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-danger {
            background-color: var(--danger);
            color: white;
        }
        
        .page {
            display: none;
            padding: 2rem 0;
            min-height: 70vh;
        }
        
        .page.active {
            display: block;
        }
        
        .hero {
            background: linear-gradient(rgba(46, 125, 50, 0.9), rgba(27, 94, 32, 0.9));
            color: white;
            padding: 4rem 0;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 2rem;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            color: var(--primary);
        }
        
        .section-title h2 {
            font-size: 2rem;
            position: relative;
            display: inline-block;
            padding-bottom: 10px;
        }
        
        .section-title h2:after {
            content: '';
            position: absolute;
            width: 70px;
            height: 3px;
            background-color: var(--secondary);
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .feature-card {
            background-color: var(--light);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
        }
        
        .feature-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .feature-card h3 {
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        .form-container {
            max-width: 500px;
            margin: 0 auto;
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .dashboard-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            text-align: center;
        }
        
        .dashboard-card .card-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 10px 0;
            color: var(--primary);
        }
        
        .dashboard-card .card-label {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .transaction-history {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .transaction-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .transaction-table th, .transaction-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .transaction-table th {
            background-color: var(--light);
            font-weight: 600;
        }
        
        .transaction-table tr:hover {
            background-color: #f9f9f9;
        }
        
        .status-completed {
            color: var(--success);
            font-weight: 600;
        }
        
        .status-pending {
            color: var(--secondary);
            font-weight: 600;
        }
        
        .payment-methods {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 2rem;
        }
        
        .payment-method {
            background-color: var(--light);
            padding: 1rem 2rem;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-method:hover, .payment-method.active {
            background-color: var(--primary);
            color: white;
        }
        
        .payment-icon {
            font-size: 1.5rem;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--dark);
            font-weight: 700;
        }
        
        footer {
            background-color: var(--dark);
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-top: 3rem;
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .footer-links {
            margin: 1rem 0;
        }
        
        .footer-links a {
            color: white;
            margin: 0 10px;
            text-decoration: none;
        }
        
        .footer-links a:hover {
            color: var(--secondary);
        }
        
        .disclaimer {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #aaa;
            max-width: 800px;
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin-top: 1rem;
                justify-content: center;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .auth-buttons {
                margin-top: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">ðŸ’°</div>
                    <div>QuickProfit<span>UG</span></div>
                </div>
                <nav>
                    <ul>
                        <li><a href="#" class="nav-link active" data-page="home">Home</a></li>
                        <li><a href="#" class="nav-link" data-page="dashboard">Dashboard</a></li>
                        <li><a href="#" class="nav-link" data-page="deposit">Deposit</a></li>
                        <li><a href="#" class="nav-link" data-page="withdraw">Withdraw</a></li>
                        <li><a href="#" class="nav-link" data-page="statements">Statements</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons">
                    <div class="user-info" id="userInfo" style="display: none;">
                        <div class="user-avatar" id="userAvatar">U</div>
                        <span id="userName">User</span>
                    </div>
                    <button class="btn btn-outline" id="loginBtn">Login</button>
                    <button class="btn btn-primary" id="registerBtn">Register</button>
                    <button class="btn btn-outline" id="logoutBtn" style="display: none;">Logout</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Home Page -->
    <section id="home" class="page active">
        <div class="hero">
            <div class="container">
                <h1>Invest with Confidence, Earn with Ease</h1>
                <p>Start with just 30,000 UGX and get 15,000 UGX profit in just 48 hours. Our secure investment platform makes growing your money simple and accessible.</p>
                <button class="btn btn-primary" id="getStartedBtn">Get Started Now</button>
            </div>
        </div>

        <div class="features">
            <div class="container">
                <div class="section-title">
                    <h2>Why Choose QuickProfit UG</h2>
                </div>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ’°</div>
                        <h3>High Returns</h3>
                        <p>Earn 50% profit on your investment in just 48 hours. The fastest way to grow your money.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">âš¡</div>
                        <h3>Quick Processing</h3>
                        <p>Get your profits within 48 hours after investment. No long waiting periods.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ”’</div>
                        <h3>Secure & Reliable</h3>
                        <p>Your investments are protected with our advanced security measures and encryption.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Page -->
    <section id="dashboard" class="page">
        <div class="container">
            <div class="section-title">
                <h2>Investment Dashboard</h2>
            </div>
            
            <div class="dashboard-cards">
                <div class="dashboard-card">
                    <div class="card-label">Current Balance</div>
                    <div class="card-value" id="currentBalance">0 UGX</div>
                    <div class="card-label">Available for withdrawal</div>
                </div>
                <div class="dashboard-card">
                    <div class="card-label">Total Invested</div>
                    <div class="card-value" id="totalInvested">0 UGX</div>
                    <div class="card-label">All-time deposits</div>
                </div>
                <div class="dashboard-card">
                    <div class="card-label">Total Profit</div>
                    <div class="card-value" id="totalProfit">0 UGX</div>
                    <div class="card-label">Earnings to date</div>
                </div>
            </div>
            
            <div class="transaction-history">
                <h3>Recent Transactions</h3>
                <table class="transaction-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Description</th>
                            <th>Amount</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="recentTransactions">
                        <!-- Transactions will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Deposit Page -->
    <section id="deposit" class="page">
        <div class="container">
            <div class="section-title">
                <h2>Make a Deposit</h2>
            </div>
            
            <div class="form-container">
                <div class="form-group">
                    <label for="depositAmount">Amount (UGX)</label>
                    <input type="number" id="depositAmount" class="form-control" min="30000" value="30000" step="1000">
                    <small>Minimum deposit: 30,000 UGX</small>
                </div>
                
                <div class="form-group">
                    <label>Payment Method</label>
                    <div class="payment-methods">
                        <div class="payment-method active" data-method="mtn">
                            <div class="payment-icon">ðŸ“±</div>
                            <div>MTN Mobile Money</div>
                        </div>
                        <div class="payment-method" data-method="airtel">
                            <div class="payment-icon">ðŸ“±</div>
                            <div>Airtel Money</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="phoneNumber">Phone Number</label>
                    <input type="text" id="phoneNumber" class="form-control" placeholder="+256 XXX XXX XXX">
                </div>
                
                <button class="btn btn-success" style="width: 100%;" id="processDepositBtn">Process Deposit</button>
            </div>
        </div>
    </section>

    <!-- Withdraw Page -->
    <section id="withdraw" class="page">
        <div class="container">
            <div class="section-title">
                <h2>Withdraw Funds</h2>
            </div>
            
            <div class="form-container">
                <div class="form-group">
                    <label for="withdrawAmount">Amount (UGX)</label>
                    <input type="number" id="withdrawAmount" class="form-control" min="5000" value="5000" step="1000">
                    <small>Minimum withdrawal: 5,000 UGX</small>
                </div>
                
                <div class="form-group">
                    <label for="withdrawMethod">Payment Method</label>
                    <select id="withdrawMethod" class="form-control">
                        <option value="mtn">MTN Mobile Money</option>
                        <option value="airtel">Airtel Money</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="withdrawPhone">Phone Number</label>
                    <input type="text" id="withdrawPhone" class="form-control" placeholder="+256 XXX XXX XXX">
                </div>
                
                <button class="btn btn-primary" style="width: 100%;" id="processWithdrawalBtn">Process Withdrawal</button>
            </div>
        </div>
    </section>

    <!-- Statements Page -->
    <section id="statements" class="page">
        <div class="container">
            <div class="section-title">
                <h2>Transaction Statements</h2>
            </div>
            
            <div class="transaction-history">
                <h3>All Transactions</h3>
                <table class="transaction-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Type</th>
                            <th>Description</th>
                            <th>Amount</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="allTransactions">
                        <!-- All transactions will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Login Modal -->
    <div id="loginModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
        <div class="form-container" style="max-width: 400px;">
            <h2 style="text-align: center; margin-bottom: 1.5rem;">Login to Your Account</h2>
            <div class="form-group">
                <label for="loginEmail">Email</label>
                <input type="email" id="loginEmail" class="form-control" placeholder="Your email">
            </div>
            <div class="form-group">
                <label for="loginPassword">Password</label>
                <input type="password" id="loginPassword" class="form-control" placeholder="Your password">
            </div>
            <button class="btn btn-primary" style="width: 100%; margin-bottom: 1rem;" id="submitLoginBtn">Login</button>
            <button class="btn btn-outline" style="width: 100%;" id="closeLoginBtn">Cancel</button>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
        <div class="form-container" style="max-width: 400px;">
            <h2 style="text-align: center; margin-bottom: 1.5rem;">Create Account</h2>
            <div class="form-group">
                <label for="regName">Full Name</label>
                <input type="text" id="regName" class="form-control" placeholder="Your full name">
            </div>
            <div class="form-group">
                <label for="regEmail">Email</label>
                <input type="email" id="regEmail" class="form-control" placeholder="Your email">
            </div>
            <div class="form-group">
                <label for="regPhone">Phone Number</label>
                <input type="text" id="regPhone" class="form-control" placeholder="+256 XXX XXX XXX">
            </div>
            <div class="form-group">
                <label for="regPassword">Password</label>
                <input type="password" id="regPassword" class="form-control" placeholder="Create password">
            </div>
            <div class="form-group">
                <label for="regConfirmPassword">Confirm Password</label>
                <input type="password" id="regConfirmPassword" class="form-control" placeholder="Confirm password">
            </div>
            <button class="btn btn-primary" style="width: 100%; margin-bottom: 1rem;" id="submitRegisterBtn">Register</button>
            <button class="btn btn-outline" style="width: 100%;" id="closeRegisterBtn">Cancel</button>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="logo">
                    <div class="logo-icon">ðŸ’°</div>
                    <div>QuickProfit<span>UG</span></div>
                </div>
                <div class="footer-links">
                    <a href="#home">Home</a>
                    <a href="#dashboard">Dashboard</a>
                    <a href="#deposit">Deposit</a>
                    <a href="#withdraw">Withdraw</a>
                    <a href="#statements">Statements</a>
                </div>
                <div class="disclaimer">
                    <p>Disclaimer: Investment involves risks. Past performance is not indicative of future results. Please invest only what you can afford to lose.</p>
                </div>
                <p>&copy; 2023 QuickProfit UG. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // User data and transaction storage
        let currentUser = null;
        let users = JSON.parse(localStorage.getItem('quickProfitUsers')) || [];
        let transactions = JSON.parse(localStorage.getItem('quickProfitTransactions')) || [];

        // DOM Elements
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-link');
        const loginBtn = document.getElementById('loginBtn');
        const registerBtn = document.getElementById('registerBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const getStartedBtn = document.getElementById('getStartedBtn');
        const userInfo = document.getElementById('userInfo');
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        
        // Modal elements
        const loginModal = document.getElementById('loginModal');
        const registerModal = document.getElementById('registerModal');
        const closeLoginBtn = document.getElementById('closeLoginBtn');
        const closeRegisterBtn = document.getElementById('closeRegisterBtn');
        const submitLoginBtn = document.getElementById('submitLoginBtn');
        const submitRegisterBtn = document.getElementById('submitRegisterBtn');
        
        // Dashboard elements
        const currentBalanceEl = document.getElementById('currentBalance');
        const totalInvestedEl = document.getElementById('totalInvested');
        const totalProfitEl = document.getElementById('totalProfit');
        const recentTransactionsEl = document.getElementById('recentTransactions');
        const allTransactionsEl = document.getElementById('allTransactions');
        
        // Deposit elements
        const depositAmount = document.getElementById('depositAmount');
        const phoneNumber = document.getElementById('phoneNumber');
        const processDepositBtn = document.getElementById('processDepositBtn');
        const paymentMethods = document.querySelectorAll('.payment-method');
        
        // Withdraw elements
        const withdrawAmount = document.getElementById('withdrawAmount');
        const withdrawPhone = document.getElementById('withdrawPhone');
        const processWithdrawalBtn = document.getElementById('processWithdrawalBtn');

        // Initialize the app
        function initApp() {
            // Check if user is logged in
            const savedUser = localStorage.getItem('quickProfitCurrentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUIForUser();
            }
            
            // Load transactions for current user
            loadTransactions();
            
            // Set up event listeners
            setupEventListeners();
        }

        // Set up all event listeners
        function setupEventListeners() {
            // Navigation
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = link.getAttribute('data-page');
                    showPage(pageId);
                    
                    // Update active nav link
                    navLinks.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                });
            });
            
            // Auth buttons
            loginBtn.addEventListener('click', () => showModal('login'));
            registerBtn.addEventListener('click', () => showModal('register'));
            logoutBtn.addEventListener('click', logout);
            getStartedBtn.addEventListener('click', () => {
                if (currentUser) {
                    showPage('dashboard');
                    navLinks.forEach(l => l.classList.remove('active'));
                    document.querySelector('[data-page="dashboard"]').classList.add('active');
                } else {
                    showModal('register');
                }
            });
            
            // Modal buttons
            closeLoginBtn.addEventListener('click', () => hideModal('login'));
            closeRegisterBtn.addEventListener('click', () => hideModal('register'));
            submitLoginBtn.addEventListener('click', login);
            submitRegisterBtn.addEventListener('click', register);
            
            // Payment methods
            paymentMethods.forEach(method => {
                method.addEventListener('click', () => {
                    paymentMethods.forEach(m => m.classList.remove('active'));
                    method.classList.add('active');
                });
            });
            
            // Transaction buttons
            processDepositBtn.addEventListener('click', processDeposit);
            processWithdrawalBtn.addEventListener('click', processWithdrawal);
            
            // Close modals when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === loginModal) hideModal('login');
                if (e.target === registerModal) hideModal('register');
            });
        }

        // Show a specific page
        function showPage(pageId) {
            pages.forEach(page => {
                page.classList.remove('active');
                if (page.id === pageId) {
                    page.classList.add('active');
                }
            });
            
            // Refresh data if needed
            if (pageId === 'dashboard' || pageId === 'statements') {
                loadTransactions();
            }
        }

        // Show modal
        function showModal(modalType) {
            if (modalType === 'login') {
                loginModal.style.display = 'flex';
            } else if (modalType === 'register') {
                registerModal.style.display = 'flex';
            }
        }

        // Hide modal
        function hideModal(modalType) {
            if (modalType === 'login') {
                loginModal.style.display = 'none';
            } else if (modalType === 'register') {
                registerModal.style.display = 'none';
            }
        }

        // Register a new user
        function register() {
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const phone = document.getElementById('regPhone').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            
            // Validation
            if (!name || !email || !phone || !password || !confirmPassword) {
                alert('Please fill in all fields');
                return;
            }
            
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            // Check if user already exists
            if (users.find(user => user.email === email)) {
                alert('User with this email already exists');
                return;
            }
            
            // Create new user
            const newUser = {
                id: generateId(),
                name,
                email,
                phone,
                password, // In a real app, this would be hashed
                balance: 0,
                totalInvested: 0,
                totalProfit: 0,
                joinedDate: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('quickProfitUsers', JSON.stringify(users));
            
            // Log the user in
            currentUser = newUser;
            localStorage.setItem('quickProfitCurrentUser', JSON.stringify(currentUser));
            
            // Update UI
            updateUIForUser();
            hideModal('register');
            
            // Show success message
            alert('Registration successful! Welcome to QuickProfit UG.');
        }

        // Login user
        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Validation
            if (!email || !password) {
                alert('Please enter both email and password');
                return;
            }
            
            // Find user
            const user = users.find(u => u.email === email && u.password === password);
            
            if (!user) {
                alert('Invalid email or password');
                return;
            }
            
            // Log the user in
            currentUser = user;
            localStorage.setItem('quickProfitCurrentUser', JSON.stringify(currentUser));
            
            // Update UI
            updateUIForUser();
            hideModal('login');
            
            // Show dashboard
            showPage('dashboard');
            navLinks.forEach(l => l.classList.remove('active'));
            document.querySelector('[data-page="dashboard"]').classList.add('active');
        }

        // Logout user
        function logout() {
            currentUser = null;
            localStorage.removeItem('quickProfitCurrentUser');
            
            // Update UI
            loginBtn.style.display = 'inline-block';
            registerBtn.style.display = 'inline-block';
            logoutBtn.style.display = 'none';
            userInfo.style.display = 'none';
            
            // Show home page
            showPage('home');
            navLinks.forEach(l => l.classList.remove('active'));
            document.querySelector('[data-page="home"]').classList.add('active');
        }

        // Update UI when user is logged in
        function updateUIForUser() {
            if (currentUser) {
                loginBtn.style.display = 'none';
                registerBtn.style.display = 'none';
                logoutBtn.style.display = 'inline-block';
                userInfo.style.display = 'flex';
                
                // Set user info
                userAvatar.textContent = currentUser.name.charAt(0).toUpperCase();
                userName.textContent = currentUser.name;
                
                // Pre-fill phone number in forms
                phoneNumber.value = currentUser.phone;
                withdrawPhone.value = currentUser.phone;
            }
        }

        // Process deposit
        function processDeposit() {
            if (!currentUser) {
                alert('Please log in to make a deposit');
                return;
            }
            
            const amount = parseInt(depositAmount.value);
            const phone = phoneNumber.value;
            const method = document.querySelector('.payment-method.active').getAttribute('data-method');
            
            // Validation
            if (!amount || amount < 30000) {
                alert('Minimum deposit is 30,000 UGX');
                return;
            }
            
            if (!phone) {
                alert('Please enter your phone number');
                return;
            }
            
            // Create transaction
            const transaction = {
                id: generateId(),
                userId: currentUser.id,
                type: 'deposit',
                amount: amount,
                method: method,
                phone: phone,
                status: 'pending',
                date: new Date().toISOString(),
                description: `Deposit via ${method === 'mtn' ? 'MTN Mobile Money' : 'Airtel Money'}`
            };
            
            // In a real app, this would connect to a payment gateway
            // For demo, we'll simulate a successful payment
            setTimeout(() => {
                // Update transaction status
                transaction.status = 'completed';
                
                // Update user balance
                currentUser.balance += amount;
                currentUser.totalInvested += amount;
                
                // Save data
                transactions.push(transaction);
                localStorage.setItem('quickProfitTransactions', JSON.stringify(transactions));
                
                // Update current user in storage
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = currentUser;
                    localStorage.setItem('quickProfitUsers', JSON.stringify(users));
                }
                
                localStorage.setItem('quickProfitCurrentUser', JSON.stringify(currentUser));
                
                // Update UI
                loadTransactions();
                
                // Show success message
                alert(`Deposit of ${amount.toLocaleString()} UGX successful! Your funds have been added to your account.`);
            }, 2000);
            
            // Show processing message
            alert(`Processing deposit of ${amount.toLocaleString()} UGX... Please wait.`);
        }

        // Process withdrawal
        function processWithdrawal() {
            if (!currentUser) {
                alert('Please log in to make a withdrawal');
                return;
            }
            
            const amount = parseInt(withdrawAmount.value);
            const phone = withdrawPhone.value;
            const method = document.getElementById('withdrawMethod').value;
            
            // Validation
            if (!amount || amount < 5000) {
                alert('Minimum withdrawal is 5,000 UGX');
                return;
            }
            
            if (amount > currentUser.balance) {
                alert('Insufficient balance for this withdrawal');
                return;
            }
            
            if (!phone) {
                alert('Please enter your phone number');
                return;
            }
            
            // Create transaction
            const transaction = {
                id: generateId(),
                userId: currentUser.id,
                type: 'withdrawal',
                amount: amount,
                method: method,
                phone: phone,
                status: 'pending',
                date: new Date().toISOString(),
                description: `Withdrawal to ${method === 'mtn' ? 'MTN Mobile Money' : 'Airtel Money'}`
            };
            
            // In a real app, this would connect to a payment gateway
            // For demo, we'll simulate a successful withdrawal
            setTimeout(() => {
                // Update transaction status
                transaction.status = 'completed';
                
                // Update user balance
                currentUser.balance -= amount;
                
                // Save data
                transactions.push(transaction);
                localStorage.setItem('quickProfitTransactions', JSON.stringify(transactions));
                
                // Update current user in storage
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = currentUser;
                    localStorage.setItem('quickProfitUsers', JSON.stringify(users));
                }
                
                localStorage.setItem('quickProfitCurrentUser', JSON.stringify(currentUser));
                
                // Update UI
                loadTransactions();
                
                // Show success message
                alert(`Withdrawal of ${amount.toLocaleString()} UGX successful! Funds will be sent to your ${method === 'mtn' ? 'MTN' : 'Airtel'} account shortly.`);
            }, 2000);
            
            // Show processing message
            alert(`Processing withdrawal of ${amount.toLocaleString()} UGX... Please wait.`);
        }

        // Load transactions for current user
        function loadTransactions() {
            if (!currentUser) return;
            
            // Filter transactions for current user
            const userTransactions = transactions
                .filter(t => t.userId === currentUser.id)
                .sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // Update dashboard values
            currentBalanceEl.textContent = currentUser.balance.toLocaleString() + ' UGX';
            totalInvestedEl.textContent = currentUser.totalInvested.toLocaleString() + ' UGX';
            totalProfitEl.textContent = currentUser.totalProfit.toLocaleString() + ' UGX';
            
            // Update recent transactions (last 5)
            recentTransactionsEl.innerHTML = '';
            const recentTransactions = userTransactions.slice(0, 5);
            
            if (recentTransactions.length === 0) {
                recentTransactionsEl.innerHTML = '<tr><td colspan="4" style="text-align: center;">No transactions yet</td></tr>';
            } else {
                recentTransactions.forEach(transaction => {
                    const row = document.createElement('tr');
                    const date = new Date(transaction.date).toLocaleDateString();
                    const amountClass = transaction.type === 'deposit' ? 'status-completed' : 'status-pending';
                    
                    row.innerHTML = `
                        <td>${date}</td>
                        <td>${transaction.description}</td>
                        <td class="${amountClass}">${transaction.amount.toLocaleString()} UGX</td>
                        <td class="status-${transaction.status}">${transaction.status.charAt(0).toUpperCase() + transaction.status.slice(1)}</td>
                    `;
                    
                    recentTransactionsEl.appendChild(row);
                });
            }
            
            // Update all transactions
            allTransactionsEl.innerHTML = '';
            
            if (userTransactions.length === 0) {
                allTransactionsEl.innerHTML = '<tr><td colspan="5" style="text-align: center;">No transactions yet</td></tr>';
            } else {
                userTransactions.forEach(transaction => {
                    const row = document.createElement('tr');
                    const date = new Date(transaction.date).toLocaleDateString();
                    const amountClass = transaction.type === 'deposit' ? 'status-completed' : 'status-pending';
                    
                    row.innerHTML = `
                        <td>${date}</td>
                        <td>${transaction.type.charAt(0).toUpperCase() + transaction.type.slice(1)}</td>
                        <td>${transaction.description}</td>
                        <td class="${amountClass}">${transaction.amount.toLocaleString()} UGX</td>
                        <td class="status-${transaction.status}">${transaction.status.charAt(0).toUpperCase() + transaction.status.slice(1)}</td>
                    `;
                    
                    allTransactionsEl.appendChild(row);
                });
            }
        }

        // Generate a unique ID
        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        // Initialize the app when the page loads
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>